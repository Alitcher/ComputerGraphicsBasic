<!DOCTYPE html>
<html>
	<head>
		<title>Computer Graphics - Task 1.1</title>
		<meta charset="UTF-8">
		<script type="text/javascript">
		
			function onLoad() { //This will be called once the page is loaded
				drawTriangle([150.0, 150.0]); //This should draw you a triangle with the midpoint at [150, 150].
			}
			
			function drawTriangle(position) {
				var canvas = document.getElementById('Alicia Canvas'); //This is the <canvas> HTML element
				var context = canvas.getContext('2d');			  //We get the 2D context for drawing
				
				// 1) Choose a fixed value to determine the size of the triangle. For example the edge length in pixels.
				var edgeLength = 100; // Fixed edge length for the triangle
                var height = Math.sqrt(Math.pow(edgeLength, 2) - Math.pow((edgeLength / 2), 2));
                console.log(`height: ${height}`)
                // 2) Find the coordinates of the vertices: based on midpoint
                var xMid = position[0];
                var yMid = position[1];

                var x1 = xMid - edgeLength / 2;
                var y1 = yMid + height / 3;

                var x2 = xMid + edgeLength / 2;
                var y2 = y1;

                var x3 = xMid;
                var y3 = yMid - 2 * height / 3;
                
                // Just for fun: Create a linear gradient from the top vertex to the midpoint of the base
                var gradient = context.createLinearGradient(x3, y3, (x1 + x2) / 2, (y1 + y2) / 2);
                var colors = ['#DAF7A6', '#FFC300', '#FF5733', '#C70039', '#900C3F', '#581845'];
    
                for (var i = 0; i < colors.length; i++) {
                    var position = i / (colors.length - 1);
                    gradient.addColorStop(position, colors[i]);
                }
                
                // 3) Draw on the "context". Look up methods like beginPath(), moveTo(), lineTo(), closePath(), fill()
                context.beginPath();
                context.moveTo(x1, y1);
                context.lineTo(x2, y2);
                context.lineTo(x3, y3);
                context.closePath();
				context.fillStyle = gradient;
                context.fill();

				// 4) Use console.log() to debug
                console.log(`Vertices: (${x1}, ${y1}), (${x2}, ${y2}), (${x3}, ${y3})`);
                console.log(`centrid: ${(x1+x2+x3)/3},${(y1+y2+y3)/3}`);
			}
		
		</script>
	</head>
	<body onload="onLoad()">
		<canvas width="800" height="500" id="Alicia Canvas"></canvas>
	</body>
</html>
